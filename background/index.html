<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Background &#8212; dorado 2.5.4 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=c0370f68"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Paper" href="../paper/index.html" />
    <link rel="prev" title="Quickstart" href="../quickstart/index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="background">
<span id="id1"></span><h1>Background<a class="headerlink" href="#background" title="Link to this heading">¶</a></h1>
<section id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Link to this heading">¶</a></h2>
<p><cite>dorado</cite> was developed to provide an open-source and general method for routing passive tracer particles in a landscape scale flow field. Methods to simulate Lagrangian particle transport exist in adjacent fields and have been developed to solve problems at large scales <a class="footnote-reference brackets" href="#id9" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> and at small scales <a class="footnote-reference brackets" href="#id10" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>. The popular Delft3D suite of modules contains a method for Lagrangian particle tracking called Delft3D-PART <a class="footnote-reference brackets" href="#id11" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>, however as part of the larger, complex Delft3D ecosystem, this code is harder to interrogate and understand directly.</p>
<p>By developing <cite>dorado</cite> as a standalone python package, we hope to simplify the simulation of Lagrangian particle transport so that it may be applied to the results from any hydrodynamic simulation.</p>
</section>
<section id="name">
<h2>Name<a class="headerlink" href="#name" title="Link to this heading">¶</a></h2>
<p>The name <cite>dorado</cite> is inspired by the <a class="reference external" href="https://en.wikipedia.org/wiki/Salminus_brasiliensis">fish</a>.</p>
</section>
<section id="theory">
<h2>Theory<a class="headerlink" href="#theory" title="Link to this heading">¶</a></h2>
<p>Particle transport is simulated through the use of a weighted random walk framework <a class="footnote-reference brackets" href="#id12" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>. In particular, we apply methods similar to those used in the numerical model DeltaRCM <a class="footnote-reference brackets" href="#id13" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> <a class="footnote-reference brackets" href="#id14" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a>, to weight the random walk by the local water slopes and the water discharge components.</p>
<p><cite>dorado</cite> assumes a rectangular grid and routes particles in a D-8 fashion assuming that the potential future location of a given particle is one of the surrounding 8 cells.</p>
<p>The weights for the random walk are sensitive to 2 parameters, <span class="math notranslate nohighlight">\({\gamma}\)</span> and <span class="math notranslate nohighlight">\({\theta}\)</span>.</p>
<p>The routing direction (F) is the estimate of the local downstream of the flow <a class="footnote-reference brackets" href="#id13" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>. This direction F is comprised of <span class="math notranslate nohighlight">\({F_{sfc}}\)</span>, and <span class="math notranslate nohighlight">\({F_{int}}\)</span>, calculated based on the water surface gradient and the discharge respectively. The proportional combination of these directional components is dictated by the parameter <span class="math notranslate nohighlight">\({\gamma}\)</span>:</p>
<div class="math notranslate nohighlight">
\[F = \gamma F_{sfc} + (1-\gamma) F_{int}\]</div>
<p>In this way, the <span class="math notranslate nohighlight">\({\gamma}\)</span> parameter controls the proportional dependence of water surface slope and water discharge on the downstream direction. A <span class="math notranslate nohighlight">\({\gamma}\)</span> of 0 means that the water slope is ignored when determining the downstream flow direction, and a <span class="math notranslate nohighlight">\({\gamma}\)</span> of 1 means that the discharge values (the flow field) is ignored.</p>
<p>The second weighting parameter, <span class="math notranslate nohighlight">\({\theta}\)</span> modifies the routing weight for the random walk based on the local water depth value. The routing weights for each neighboring cell are calculated per [5], using the following equation:</p>
<div class="math notranslate nohighlight">
\[w_i = \frac{ \text{max} \left(0, F \cdot d_i \right)}{R_i \Delta_i}\]</div>
<p>The resistance value (<span class="math notranslate nohighlight">\({R_i}\)</span>) is computed using the local water depth (<span class="math notranslate nohighlight">\({h_i}\)</span>) and the parameter <span class="math notranslate nohighlight">\({\theta}\)</span>:</p>
<div class="math notranslate nohighlight">
\[R_i = \frac{1}{h_i^\theta}\]</div>
<p>When <span class="math notranslate nohighlight">\({\theta}\)</span> is 0, then the local depth values are not impacting the weighting factor associated with each cell. As <span class="math notranslate nohighlight">\({\theta}\)</span> gets larger, the local routing weights have an increasingly large dependence on the water depth of the neighboring cells.</p>
<p>To measure the travel times associated with the particles as they move through the flow field, both the flow velocity and the direction of the flow are taken into account. As the particles are routed on a grid, there is a loss of accuracy due to the assumption that particles are located in the center of grid cells. To account for this ‘lost time’, a diffusive coefficient (<span class="math notranslate nohighlight">\({dc}\)</span>) is applied to introduce some diffusivity to the travel time values.</p>
<p>The travel time calculation is based on the effective distance the particle travels in the orientation of the mean flow at the particle’s location. This effective or projected distance (<span class="math notranslate nohighlight">\({d_{eq}}\)</span>) is computed using the definition of a vector projection based on the actual distance being traveled (<span class="math notranslate nohighlight">\({\Delta}\)</span>) and the orientation of travel relative to the mean flow vector (<span class="math notranslate nohighlight">\({\phi}\)</span>):</p>
<div class="math notranslate nohighlight">
\[d_{eq} = \Delta \times \cos{\phi}\]</div>
<p>The travel time (<span class="math notranslate nohighlight">\({T_t}\)</span>) is then calculated based on this effective distance (<span class="math notranslate nohighlight">\({d_{eq}}\)</span>) and the average of the inverted velocity values at the origin cell location (<span class="math notranslate nohighlight">\({o}\)</span>) and the new cell location (<span class="math notranslate nohighlight">\({i}\)</span>) for the particle. To re-introduce diffusivity lost due to the gridded scheme used in <cite>dorado</cite>, the travel time is also modulated by a user-specified diffusivity coefficient (<span class="math notranslate nohighlight">\({dc}\)</span>) which is multiplied by a sample from a uniform distribution centered at 0:</p>
<div class="math notranslate nohighlight">
\[T_t = \frac{1}{2} \times d_{eq} \times \left(\frac{1}{v_o} + \frac{1}{v_i}\right) \times \left(1 + \left[dc \times U(-0.5,0.5)\right]\right)\]</div>
<p>When <span class="math notranslate nohighlight">\({dc}\)</span> is 0, then the travel time calculation is based solely on the velocity field and deviation in particle path trajectory from the mean flow path. As the diffusivity coefficient is increased, the diffusivity present in travel time distributions will increase as well.</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Dagestad, K.-F., Röhrs, J., Breivik, Ø., and Ådlandsvik, B.: OpenDrift v1.0: a generic framework for trajectory modelling, Geosci. Model Dev., 11, 1405-1420, <a class="reference external" href="https://doi.org/10.5194/gmd-11-1405-2018">https://doi.org/10.5194/gmd-11-1405-2018</a>, 2018.</p>
</aside>
<aside class="footnote brackets" id="id10" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>ANGE Team, Freshkiss3D home page. Available at: <a class="reference external" href="https://freshkiss3d.gitlabpages.inria.fr/freshkiss3d/">https://freshkiss3d.gitlabpages.inria.fr/freshkiss3d/</a></p>
</aside>
<aside class="footnote brackets" id="id11" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">3</a><span class="fn-bracket">]</span></span>
<p>Hydraulics, D. (2007). Delft3D-PART user manual version 2.13. WL| Delft Hydraulics, Delft.</p>
</aside>
<aside class="footnote brackets" id="id12" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">4</a><span class="fn-bracket">]</span></span>
<p>Pearson, K. (1905). The problem of the random walk. Nature, 72(1867), 342-342.</p>
</aside>
<aside class="footnote brackets" id="id13" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id6">1</a>,<a role="doc-backlink" href="#id8">2</a>)</span>
<p>Liang, M., Voller, V. R., &amp; Paola, C. (2015). A reduced-complexity model for river delta formation-Part 1: Modeling deltas with channel dynamics. Earth Surface Dynamics, 3(1).</p>
</aside>
<aside class="footnote brackets" id="id14" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">6</a><span class="fn-bracket">]</span></span>
<p>Liang, M., Geleynse, N., Edmonds, D. A., &amp; Passalacqua, P. (2015). A reduced-complexity model for river delta formation-Part 2: Assessment of the flow routing scheme. Earth Surface Dynamics, 3(1), 87.</p>
</aside>
</aside>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">dorado</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quickstart</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../paper/index.html">Paper</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apiref/index.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/acknowledgments.html">Acknowledgments</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../quickstart/index.html" title="previous chapter">Quickstart</a></li>
      <li>Next: <a href="../paper/index.html" title="next chapter">Paper</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2020, J. Hariharan, K. Wright, P. Passalacqua.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/background/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
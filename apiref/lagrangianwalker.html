<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dorado.lagrangian_walker &#8212; dorado 2.5.4 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=c0370f68"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="dorado.routines" href="routines.html" />
    <link rel="prev" title="dorado.particle_track" href="particletrack.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-dorado.lagrangian_walker">
<span id="dorado-lagrangian-walker"></span><span id="lagrangianwalker"></span><h1>dorado.lagrangian_walker<a class="headerlink" href="#module-dorado.lagrangian_walker" title="Link to this heading">¶</a></h1>
<p>Core functions to handle the Lagrangian random walk movement of the particles.</p>
<p>Project Homepage: <a class="reference external" href="https://github.com/passaH2O/dorado">https://github.com/passaH2O/dorado</a></p>
<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.big_sliding_window">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">big_sliding_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#big_sliding_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.big_sliding_window" title="Link to this definition">¶</a></dt>
<dd><p>Creates 3D array organizing local neighbors at every index</p>
<p>Returns a raster of shape (L,W,9) which organizes (along the third
dimension) all of the neighbors in the original raster at a given
index, in the order [NW, N, NE, W, 0, E, SW, S, SE]. Outputs are
ordered to match np.ravel(), so it functions similarly to a loop
applying ravel to the elements around each index.
For example, the neighboring values in raster indexed at (i,j) are
raster(i-1:i+2, j-1:j+2).ravel(). These 9 values have been mapped to
big_ravel(i,j,:) for ease of computations. Helper function for make_weight.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>raster<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>2D array of values (e.g. stage, qx)</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>big_ravel<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>3D array which sorts the D8 neighbors at index (i,j) in
raster into the 3rd dimension at (i,j,:)</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.calc_travel_times">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">calc_travel_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Particles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_cell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#calc_travel_times"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.calc_travel_times" title="Link to this definition">¶</a></dt>
<dd><p>Calculate travel time for particle to get to the new location.</p>
<p>Function to calculate the travel time for the particle to get from the
current location to the new location. Calculated by taking the inverse
of the velocity at the old and new locations.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>Particles<span class="classifier"><a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a></span></dt><dd><p>A <a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a> object</p>
</dd>
<dt>new_cell<span class="classifier"><cite>int</cite></span></dt><dd><p>Integer 1-8 indicating new location in D-8 way</p>
</dd>
<dt>ind<span class="classifier"><cite>tuple</cite></span></dt><dd><p>Tuple (x,y) of the current location</p>
</dd>
<dt>new_ind<span class="classifier"><cite>tuple</cite></span></dt><dd><p>Tuple (x,y) of the new location</p>
</dd>
<dt>dist<span class="classifier"><cite>float</cite></span></dt><dd><p>Distance between current (old) and new particle location</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>trav_time<span class="classifier"><cite>float</cite></span></dt><dd><p>Travel time it takes the particle to get from the current
location to the new proposed location using the inverse of the
average velocity</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.calculate_new_ind">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">calculate_new_ind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_cell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iwalk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jwalk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#calculate_new_ind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.calculate_new_ind" title="Link to this definition">¶</a></dt>
<dd><p>Add new cell location (1-8 value) to the previous index.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>ind<span class="classifier"><cite>tuple</cite></span></dt><dd><p>Tuple (x,y) of old particle location</p>
</dd>
<dt>new_cell<span class="classifier"><cite>int</cite></span></dt><dd><p>Integer 1-8 indicating new cell location relative to the old
one in a D-8 sense</p>
</dd>
<dt>iwalk<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>A D8 array with the positive and negative x directions</p>
</dd>
<dt>jwalk<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>A D8 array with the positive and negative y directions</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>new_ind<span class="classifier"><cite>tuple</cite></span></dt><dd><p>tuple (x,y) of the new particle location</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.check_for_boundary">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">check_for_boundary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_inds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_inds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#check_for_boundary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.check_for_boundary" title="Link to this definition">¶</a></dt>
<dd><p>Ensure new location is not a boundary cell.</p>
<p>Function to make sure particle is not exiting the boundary with the
proposed new location.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>new_inds<span class="classifier"><cite>list</cite></span></dt><dd><p>List [] of tuples (x,y) of new indices</p>
</dd>
<dt>current_inds<span class="classifier"><cite>list</cite></span></dt><dd><p>List [] of tuples (x,y) of old indices</p>
</dd>
<dt>cell_type<span class="classifier"><cite>numpy.ndarray</cite></span></dt><dd><p>Array of the different types of cells in the domain where 2 = land,
1 = channel, 0 = ocean, and -1 = edge. If not explicitly defined
then the values are estimated based on the depth array and the
defined dry_depth</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>new_inds<span class="classifier"><cite>list</cite></span></dt><dd><p>list [] of tuples (x,y) of new indices where any proposed
indices outside of the domain have been replaced by the old
indices so those particles will not travel this iteration</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.clear_borders">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">clear_borders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tiled_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#clear_borders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.clear_borders" title="Link to this definition">¶</a></dt>
<dd><p>Set to zero all the edge elements of a vertical stack
of 2D arrays. Helper function for make_weight.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>tiled_array<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>3D array repeating raster (e.g. stage, qx) 9 times
along the third axis</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>tiled_array<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>The same 3D array as the input, but with the borders
in the first and second dimension set to 0.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.get_weight">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">get_weight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Particles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ind</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#get_weight"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.get_weight" title="Link to this definition">¶</a></dt>
<dd><p>Choose new cell location given an initial location.</p>
<p>Function to randomly choose 1 of the surrounding 8 cells around the
current index using the routing weights from make_weight.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>Particles<span class="classifier"><a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a></span></dt><dd><p>A <a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a> object</p>
</dd>
<dt>ind<span class="classifier"><cite>tuple</cite></span></dt><dd><p>Tuple (x,y) with the current location indices</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>new_cell<span class="classifier"><cite>int</cite></span></dt><dd><p>New location given as a value between 1 and 8 (inclusive)</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.make_weight">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">make_weight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Particles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#make_weight"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.make_weight" title="Link to this definition">¶</a></dt>
<dd><p>Create the weighting array for particle routing</p>
<p>Function to compute the routing weights at each index, which gets
stored inside the <a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a> object
for use when routing. Called when the object gets instantiated.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>Particles<span class="classifier"><a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a></span></dt><dd><p>A <a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a> object</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><p>Updates the weights array inside the
<a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a> object</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.particle_stepper">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">particle_stepper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Particles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_inds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">travel_times</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#particle_stepper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.particle_stepper" title="Link to this definition">¶</a></dt>
<dd><p>Step particles a single iteration.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>Particles: <a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a></dt><dd><p>A <a class="reference internal" href="particletrack.html#dorado.particle_track.Particles" title="dorado.particle_track.Particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dorado.particle_track.Particles</span></code></a> object.</p>
</dd>
<dt>current_inds<span class="classifier"><cite>list</cite></span></dt><dd><p>List of tuples of the current particle (x,y) locations in space</p>
</dd>
<dt>travel_times<span class="classifier"><cite>list</cite></span></dt><dd><p>List of initial travel times for the particles</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>new_inds<span class="classifier"><cite>list</cite></span></dt><dd><p>List of the new particle locations after the single iteration</p>
</dd>
<dt>travel_times<span class="classifier"><cite>list</cite></span></dt><dd><p>List of the travel times associated with the particle movements</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.random_pick">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">random_pick</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#random_pick"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.random_pick" title="Link to this definition">¶</a></dt>
<dd><p>Pick value from weighted probability array.</p>
<p>Randomly pick a number weighted by array probs (len 8)
Return the index of the selected weight in array probs</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>probs<span class="classifier"><cite>list</cite></span></dt><dd><p>8 values indicating the probability (weight) associated with
the surrounding cells for the random walk</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>idx<span class="classifier"><cite>int</cite></span></dt><dd><p>1-8 value chosen randomly based on the weighted probabilities</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.random_pick_seed">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">random_pick_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">choices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#random_pick_seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.random_pick_seed" title="Link to this definition">¶</a></dt>
<dd><p>Randomly pick a number from array of choices.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>choices<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>Array of possible values to draw from</p>
</dd>
<dt>probs<span class="classifier"><cite>ndarray</cite></span></dt><dd><p><em>Optional</em>, can add weighted probabilities to draw</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>choices[idx]<span class="classifier"><cite>int</cite></span></dt><dd><p>The randomly chosen value</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.steep_descent">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">steep_descent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#steep_descent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.steep_descent" title="Link to this definition">¶</a></dt>
<dd><p>Choose value with greatest probability, no longer random.</p>
<p>Pick the array value with the greatest probability, no longer a
stochastic process, instead just choosing the steepest descent</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>probs<span class="classifier"><cite>float</cite></span></dt><dd><p>8 values indicating probability (weight) associated with the
surrounding cells</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>idx<span class="classifier"><cite>int</cite></span></dt><dd><p>1-8 value chosen by greatest probs</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.step_update">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">step_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_cell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distances</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#step_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.step_update" title="Link to this definition">¶</a></dt>
<dd><p>Get distance to new particle location.</p>
<p>Function to check new location is some distance away from old one,
also provides way to track the travel distance of the particles</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>new_cell<span class="classifier"><cite>int</cite></span></dt><dd><p>Integer 1-8 indicating new location in D-8 way</p>
</dd>
<dt>distances<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>D8 distances between cells</p>
</dd>
<dt>dx<span class="classifier"><cite>float</cite></span></dt><dd><p>Length along one square cell face</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>dist<span class="classifier"><cite>float</cite></span></dt><dd><p>Distance between current (old) and new particle location</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.tile_domain_array">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">tile_domain_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#tile_domain_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.tile_domain_array" title="Link to this definition">¶</a></dt>
<dd><p>Repeat a large 2D array 9 times along the third axis.
Helper function for make_weight.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>raster<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>2D array of values (e.g. stage, qx)</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>tiled_array<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>3D array repeating raster 9 times</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dorado.lagrangian_walker.tile_local_array">
<span class="sig-prename descclassname"><span class="pre">dorado.lagrangian_walker.</span></span><span class="sig-name descname"><span class="pre">tile_local_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dorado/lagrangian_walker.html#tile_local_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dorado.lagrangian_walker.tile_local_array" title="Link to this definition">¶</a></dt>
<dd><p>Take a local array [[NW, N, NE], [W, 0, E], [SW, S, SE]]
and repeat it into an array of shape (L,W,9), where L, W are
the shape of the domain, and the original elements are ordered
along the third axis. Helper function for make_weight.</p>
<p><strong>Inputs</strong> :</p>
<blockquote>
<div><dl>
<dt>local_array<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>2D array of represnting the D8 neighbors around
some index (e.g. ivec, jvec)</p>
</dd>
<dt>L<span class="classifier"><cite>int</cite></span></dt><dd><p>Length of the domain</p>
</dd>
<dt>W<span class="classifier"><cite>int</cite></span></dt><dd><p>Width of the domain</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Outputs</strong> :</p>
<blockquote>
<div><dl>
<dt>tiled_array<span class="classifier"><cite>ndarray</cite></span></dt><dd><p>3D array repeating local_array.ravel() LxW times</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">dorado</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quickstart</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../background/index.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../paper/index.html">Paper</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../misc/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/contributing.html">Contributing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/acknowledgments.html">Acknowledgments</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">API Reference</a><ul>
      <li>Previous: <a href="particletrack.html" title="previous chapter">dorado.particle_track</a></li>
      <li>Next: <a href="routines.html" title="next chapter">dorado.routines</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2020, J. Hariharan, K. Wright, P. Passalacqua.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/apiref/lagrangianwalker.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>